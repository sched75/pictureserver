digraph UML_Class_diagram {
  node [shape=record];

  /* Database class */
  database [label="{Database|+connect() : void|+query(queryString: string) : array}"];

  /* User class */
  user [label="{User|+setUsername(username: string) : void|+getUsername() : string|+setPassword(password: string) : void|+getPassword() : string}"];

  /* Hashing trait */
  hashing [label="{Hashing|+hashPassword(password: string) : string|+verifyPassword(password: string, hash: string) : bool}"];

  /* Authentication class */
  authentication [label="{Authentication|+login(username: string, password: string) : bool|+logout() : void|+isAuthenticated() : bool}"];

  /* Mailer class */
  mailer [label="{Mailer|+setFrom(from: string) : void|+setTo(to: string) : void|+setSubject(subject: string) : void|+setBody(body: string) : void|+send() : void}"];

  /* PasswordReset class */
  password_reset [label="{PasswordReset|+generateToken(user: User) : string|+validateToken(user: User, token: string) : bool|+sendResetEmail(user: User, token: string) : void|+resetPassword(user: User, password: string) : void}"];

  /* Front Controller */
  front_controller [label="{FrontController|+handleRequest(request: Request) : void}"];

  /* Request class */
  request [label="{Request|+getMethod() : string|+getUri() : string|+getParameters() : array}"];

  /* Connect Database to Authentication and PasswordReset */
  database -> authentication;
  database -> password_reset;

  /* User uses Hashing trait */
  user -> hashing;

  /* Authentication uses User and Hashing */
  authentication -> user;
  authentication -> hashing;

  /* PasswordReset uses Database, User, Mailer, and Hashing */
  password_reset -> database;
  password_reset -> user;
  password_reset -> mailer;
  password_reset -> hashing;

  /* Front Controller uses Authentication and PasswordReset */
  front_controller -> authentication;
  front_controller -> password_reset;

  /* Request is used by Front Controller */
  front_controller -> request;
}
